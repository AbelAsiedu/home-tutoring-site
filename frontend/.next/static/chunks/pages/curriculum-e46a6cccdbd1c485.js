(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[734],{5728:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/curriculum",function(){return t(8028)}])},1842:function(e,s,t){"use strict";async function safeFetchJson(e,s){try{let t=await fetch(e,Object.assign({credentials:"include"},s||{}));if(!t.ok){let e=await t.text().catch(()=>null),s=Error("HTTP "+t.status+" "+t.statusText);throw s.status=t.status,s.body=e,s}return await t.json()}catch(s){throw console.error("API fetch error",e,s),s}}t.d(s,{S:function(){return swrFetcher}});let swrFetcher=e=>safeFetchJson(e)},8028:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Curriculum}});var r=t(5893),a=t(3454),c=t(9044),n=t(9734),i=t(1842);function Curriculum(){let{data:e,error:s}=(0,n.ZP)("/api/products",i.S);async function addToCart(e){let s=new URLSearchParams({id:e});await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),alert("Added to cart")}return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Z,{}),(0,r.jsxs)("main",{className:"container",children:[(0,r.jsxs)("div",{className:"glass",style:{padding:20,marginTop:18},children:[(0,r.jsx)("h1",{children:"Curriculum & Resources"}),(0,r.jsx)("p",{className:"muted",children:"Browse our curriculum resources and purchase books and materials."})]}),(0,r.jsx)("section",{style:{marginTop:18},children:(0,r.jsx)("div",{className:"product-grid",children:s?(0,r.jsx)("div",{className:"muted",children:"Could not load products"}):e?e.map(e=>(0,r.jsxs)("div",{className:"product glass",children:[(0,r.jsx)("img",{src:e.image||"/images/book-placeholder.svg",alt:e.title}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("div",{className:"title",children:e.title}),(0,r.jsxs)("div",{className:"price-badge",children:["GHS ",e.price]})]}),(0,r.jsx)("div",{className:"muted",children:e.description}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[(0,r.jsx)("button",{className:"btn",onClick:()=>addToCart(e.id),children:"Add to cart"}),(0,r.jsx)("a",{href:"/product/".concat(e.id),className:"btn btn-ghost",children:"Details"})]})]},e.id)):(0,r.jsx)("p",{children:"Loading..."})})})]}),(0,r.jsx)(c.Z,{})]})}}},function(e){e.O(0,[664,133,997,774,888,179],function(){return e(e.s=5728)}),_N_E=e.O()}]);