(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{8588:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(3193)}])},8910:function(e,n,t){"use strict";function toUrlEncoded(e){return Object.keys(e).map(n=>encodeURIComponent(n)+"="+encodeURIComponent(e[n]||"")).join("&")}async function postUrlEncoded(e,n){return fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:toUrlEncoded(n),credentials:"include"})}function validateEmail(e){return/\S+@\S+\.\S+/.test(e)}function validateRequired(e){return"string"==typeof e?e.trim().length>0:!!e}t.d(n,{QK:function(){return validateRequired},RR:function(){return postUrlEncoded},oH:function(){return validateEmail}})},3193:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Signup}});var i=t(5893),r=t(3454),a=t(9044),s=t(7294),u=t(1163),o=t(8910);function Signup(){let[e,n]=(0,s.useState)(null),t=(0,u.useRouter)();async function submit(e){e.preventDefault();let i=new FormData(e.target),r={username:i.get("username"),email:i.get("email"),password:i.get("password")};if(!(0,o.oH)(r.email))return n("Please enter a valid email");await (0,o.RR)("/signup",r);let a=await fetch("/api/session",{credentials:"include"}).then(e=>e.json());a&&a.user?t.push("/account"):n("Could not create account")}return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{}),(0,i.jsx)("main",{className:"container",children:(0,i.jsxs)("div",{className:"glass",style:{padding:20,marginTop:18,maxWidth:600},children:[(0,i.jsx)("h1",{children:"Sign up"}),e&&(0,i.jsx)("div",{style:{color:"crimson"},children:e}),(0,i.jsxs)("form",{onSubmit:submit,style:{display:"grid",gap:10,marginTop:12},children:[(0,i.jsx)("input",{name:"username",placeholder:"Username",required:!0}),(0,i.jsx)("input",{name:"email",type:"email",placeholder:"Email",required:!0}),(0,i.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0}),(0,i.jsx)("button",{className:"btn",type:"submit",children:"Create account"})]})]})}),(0,i.jsx)(a.Z,{})]})}},1163:function(e,n,t){e.exports=t(9974)}},function(e){e.O(0,[664,997,774,888,179],function(){return e(e.s=8588)}),_N_E=e.O()}]);