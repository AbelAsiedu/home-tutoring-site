(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{7423:function(e,s,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/estore",function(){return i(9668)}])},1842:function(e,s,i){"use strict";async function safeFetchJson(e,s){try{let i=await fetch(e,Object.assign({credentials:"include"},s||{}));if(!i.ok){let e=await i.text().catch(()=>null),s=Error("HTTP "+i.status+" "+i.statusText);throw s.status=i.status,s.body=e,s}return await i.json()}catch(s){throw console.error("API fetch error",e,s),s}}i.d(s,{S:function(){return swrFetcher}});let swrFetcher=e=>safeFetchJson(e)},9668:function(e,s,i){"use strict";i.r(s),i.d(s,{__N_SSP:function(){return o},default:function(){return EStore}});var t=i(5893),a=i(9734),l=i(1664),n=i.n(l),c=i(3454),r=i(9044),d=i(1842),o=!0;function EStore(e){let{initialProducts:s}=e,{data:i,error:l}=(0,a.ZP)("/api/products",d.S,{fallbackData:s});async function addToCart(e){let s=new URLSearchParams({id:e});await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),alert("Added to cart")}return(0,t.jsxs)("div",{children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("section",{className:"hero-slideshow",style:{height:220},children:(0,t.jsxs)("div",{className:"hero-slideshow-inner",style:{position:"relative",height:"100%"},children:[(0,t.jsx)("div",{className:"slide",children:(0,t.jsx)("img",{loading:"lazy",src:"/images/slide2.svg",alt:"slide-1",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,t.jsx)("div",{className:"slide",children:(0,t.jsx)("img",{loading:"lazy",src:"/images/hero-illustration.svg",alt:"slide-2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,t.jsx)("div",{className:"slide",children:(0,t.jsx)("img",{loading:"lazy",src:"/images/slide2.svg",alt:"slide-3",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})}),(0,t.jsxs)("main",{className:"container",children:[(0,t.jsxs)("div",{className:"glass",style:{padding:20,marginTop:18},children:[(0,t.jsx)("h1",{children:"E-Store â€” Books & Resources"}),(0,t.jsx)("p",{className:"muted",children:"Shop course books, revision guides and digital resources. Click a product to view details and purchase."})]}),(0,t.jsx)("section",{style:{marginTop:18},children:i&&i.length?(0,t.jsx)("div",{className:"product-grid",children:i.map(e=>(0,t.jsxs)("div",{className:"product glass",style:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)("img",{src:e.image_path||e.image||"/images/book-placeholder.svg",alt:e.title,style:{width:"100%",height:180,objectFit:"cover"}}),(0,t.jsxs)("div",{style:{padding:"12px",flex:1,display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,t.jsx)("div",{style:{fontWeight:700},children:e.title}),(0,t.jsxs)("div",{style:{fontSize:16,fontWeight:700},children:["GHS ",e.price]})]}),(0,t.jsx)("div",{className:"muted",style:{marginTop:8,flex:1},children:e.description||"No description available."}),(0,t.jsxs)("div",{style:{marginTop:12,display:"flex",gap:10},children:[(0,t.jsx)(n(),{href:"/product/".concat(e.id),className:"btn",children:"View"}),(0,t.jsx)("button",{onClick:()=>addToCart(e.id),className:"btn",children:"Add to cart"})]})]})]},e.id))}):l?(0,t.jsx)("div",{className:"muted",children:"The Modern Pedagogues"}):(0,t.jsx)("p",{children:"Loading..."})})]}),(0,t.jsx)(r.Z,{})]})}}},function(e){e.O(0,[664,133,997,774,888,179],function(){return e(e.s=7423)}),_N_E=e.O()}]);