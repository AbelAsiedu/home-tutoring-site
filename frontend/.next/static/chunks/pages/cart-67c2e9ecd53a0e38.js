(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{8086:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return t(9832)}])},1842:function(e,s,t){"use strict";async function safeFetchJson(e,s){try{let t=await fetch(e,Object.assign({credentials:"include"},s||{}));if(!t.ok){let e=await t.text().catch(()=>null),s=Error("HTTP "+t.status+" "+t.statusText);throw s.status=t.status,s.body=e,s}return await t.json()}catch(s){throw console.error("API fetch error",e,s),s}}t.d(s,{S:function(){return swrFetcher}});let swrFetcher=e=>safeFetchJson(e)},9832:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Cart}});var i=t(5893),r=t(3454),n=t(9044),a=t(9734),c=t(7294),d=t(1842);function Cart(){let{data:e,error:s,mutate:t}=(0,a.ZP)("/api/cart",d.S),[l,o]=(0,c.useState)("");return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{}),(0,i.jsx)("main",{className:"container",children:(0,i.jsxs)("div",{className:"glass",style:{padding:20,marginTop:18},children:[(0,i.jsx)("h1",{children:"Your Cart"}),s?(0,i.jsx)("div",{className:"muted",children:"Could not load cart (backend unreachable)"}):e?0===e.length?(0,i.jsx)("p",{className:"muted",children:"Cart empty"}):(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 320px",gap:16},children:[(0,i.jsx)("div",{children:e.map(e=>(0,i.jsxs)("div",{className:"card",style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:12},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:e.title}),(0,i.jsxs)("div",{className:"muted",children:["Qty: ",e.qty]})]}),(0,i.jsx)("div",{style:{display:"flex",gap:12,alignItems:"center"},children:(0,i.jsxs)("div",{style:{fontWeight:700},children:["GHS ",(e.price*e.qty).toFixed(2)]})})]},e.id))}),(0,i.jsxs)("aside",{className:"summary",children:[(0,i.jsx)("h3",{children:"Order Summary"}),e.map(e=>(0,i.jsxs)("div",{className:"row",children:[(0,i.jsxs)("div",{children:[e.title," x",e.qty]}),(0,i.jsxs)("div",{children:["GHS ",(e.price*e.qty).toFixed(2)]})]},e.id)),(0,i.jsxs)("div",{className:"row total",children:[(0,i.jsx)("div",{children:"Total"}),(0,i.jsxs)("div",{children:["GHS ",e.reduce((e,s)=>e+s.price*s.qty,0).toFixed(2)]})]}),(0,i.jsx)("div",{style:{marginTop:12},children:(0,i.jsx)("a",{href:"/checkout",className:"cta",style:{display:"block",textAlign:"center",padding:"10px 12px",borderRadius:8},children:"Proceed to checkout"})})]})]}):(0,i.jsx)("p",{children:"Loading..."})]})}),(0,i.jsx)(n.Z,{})]})}}},function(e){e.O(0,[664,133,997,774,888,179],function(){return e(e.s=8086)}),_N_E=e.O()}]);