(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{1926:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resources",function(){return t(9261)}])},1842:function(e,s,t){"use strict";async function safeFetchJson(e,s){try{let t=await fetch(e,Object.assign({credentials:"include"},s||{}));if(!t.ok){let e=await t.text().catch(()=>null),s=Error("HTTP "+t.status+" "+t.statusText);throw s.status=t.status,s.body=e,s}return await t.json()}catch(s){throw console.error("API fetch error",e,s),s}}t.d(s,{S:function(){return swrFetcher}});let swrFetcher=e=>safeFetchJson(e)},9261:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Resources}});var i=t(5893),n=t(9734),c=t(1664),a=t.n(c),r=t(3454),o=t(9044),d=t(1842);function Resources(){let{data:e,error:s}=(0,n.ZP)("/api/products",d.S);async function addToCart(e){let s=new URLSearchParams({id:e});await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s}),alert("Added to cart")}return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{}),(0,i.jsxs)("main",{className:"container",children:[(0,i.jsxs)("div",{className:"glass",style:{padding:20,marginTop:18},children:[(0,i.jsx)("h1",{children:"Shop â€” Coursebooks & Resources"}),(0,i.jsx)("p",{className:"muted",children:"Browse our curated collection of course books, workbooks, and digital resources. Click a product to view details and purchase."})]}),(0,i.jsx)("section",{style:{marginTop:18},children:s?(0,i.jsx)("div",{className:"muted",children:"Could not load products (backend unreachable)"}):e?(0,i.jsx)("div",{className:"product-grid",children:e.map(e=>(0,i.jsxs)("div",{className:"product glass",style:{display:"flex",flexDirection:"column"},children:[(0,i.jsx)("img",{src:e.image||"/images/book-placeholder.svg",alt:e.title,style:{width:"100%",height:180,objectFit:"cover"}}),(0,i.jsxs)("div",{style:{padding:"12px",flex:1,display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},children:[(0,i.jsx)("div",{style:{fontWeight:700},children:e.title}),(0,i.jsxs)("div",{style:{fontSize:16,fontWeight:700},children:["GHS ",e.price]})]}),(0,i.jsx)("div",{className:"muted",style:{marginTop:8,flex:1},children:e.description||"No description available."}),(0,i.jsxs)("div",{style:{marginTop:12,display:"flex",gap:10},children:[(0,i.jsx)(a(),{href:"/product/".concat(e.id),className:"btn",children:"View"}),(0,i.jsx)("button",{onClick:()=>addToCart(e.id),className:"btn",children:"Add to cart"})]})]})]},e.id))}):(0,i.jsx)("p",{children:"Loading..."})})]}),(0,i.jsx)(o.Z,{})]})}}},function(e){e.O(0,[664,133,997,774,888,179],function(){return e(e.s=1926)}),_N_E=e.O()}]);